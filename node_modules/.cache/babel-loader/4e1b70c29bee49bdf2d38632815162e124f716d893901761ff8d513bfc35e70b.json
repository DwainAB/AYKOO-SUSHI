{"ast":null,"code":"var _jsxFileName = \"/Users/dwainabrivard/Desktop/yumco/website/templates/template-1/Template-1-website-YumEats/src/Components/BasketComponent/BasketComponent.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport \"./BasketComponent.css\";\nimport textJson from \"../TextJson/TextJson.json\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction BasketComponent() {\n  _s();\n  var _errors$firstname, _errors$lastname, _errors$email, _errors$phone, _errors$payment;\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [cartItems, setCartItems] = useState([]);\n  const [isOpen, setIsOpen] = useState(false);\n  const [commentProductId, setCommentProductId] = useState(null);\n  const [tempComment, setTempComment] = useState(\"\");\n  const nameRestaurant = textJson.refRestaurant;\n  const navigate = useNavigate();\n  const openingHours = textJson.openingHours;\n  const {\n    register,\n    handleSubmit,\n    watch,\n    setValue,\n    formState: {\n      errors\n    }\n  } = useForm({\n    defaultValues: {\n      firstname: \"\",\n      lastname: \"\",\n      email: \"\",\n      phone: \"\",\n      street: \"\",\n      country: \"\",\n      postal_code: \"\",\n      city: \"\",\n      method: \"PICKUP\",\n      payment: \"\",\n      comment: \"\",\n      ref_restaurant: nameRestaurant\n    }\n  });\n  const checkIfOpen = () => {\n    const now = new Date();\n    const currentDay = now.getDay();\n    const currentHour = now.getHours() + now.getMinutes() / 60;\n    const isOpenNow = openingHours.some(({\n      day,\n      start,\n      end\n    }) => day === currentDay && currentHour >= start && currentHour < end);\n    setIsOpen(isOpenNow);\n  };\n  useEffect(() => {\n    checkIfOpen();\n    const interval = setInterval(checkIfOpen, 60000);\n    return () => clearInterval(interval);\n  }, []);\n  useEffect(() => {\n    const storedCartItems = JSON.parse(localStorage.getItem('foodSaiko')) || [];\n    setCartItems(storedCartItems);\n  }, []);\n  useEffect(() => {\n    const newTotalPrice = cartItems.reduce((total, item) => {\n      return total + item.price * item.quantity;\n    }, 0);\n    setTotalPrice(newTotalPrice);\n  }, [cartItems]);\n  const onSubmit = async data => {\n    try {\n      const addressData = data.street || data.city || data.postal_code || data.country ? {\n        street: data.street,\n        city: data.city,\n        postal_code: data.postal_code,\n        country: data.country,\n        category: \"ORDERS\"\n      } : null;\n      const orderPayload = {\n        order: {\n          amount_total: totalPrice,\n          amount_subtotal: totalPrice,\n          amount_tax: totalPrice,\n          status: \"PENDING\",\n          comment: data.comment,\n          payment_status: \"unpaid\",\n          requested_time: new Date().toISOString(),\n          completed_at: null,\n          restaurant_id: nameRestaurant,\n          type: data.method\n        },\n        customer: {\n          first_name: data.firstname,\n          last_name: data.lastname,\n          email: data.email,\n          phone: data.phone\n        },\n        order_items: cartItems.map(item => ({\n          quantity: item.quantity,\n          name: item.name,\n          subtotal: item.price * item.quantity,\n          unit_price: item.price,\n          product_id: item.id,\n          comment: item.comment || \"\"\n        })),\n        order_status_history: [{\n          status: \"PENDING\"\n        }]\n      };\n      if (addressData) {\n        orderPayload.address = addressData;\n      }\n      const response = await fetch('https://ehjbdvbicusntqbhlqun.supabase.co/functions/v1/add_order_with_items', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(orderPayload)\n      });\n      if (!response.ok) {\n        throw new Error('Problème lors de l\\'envoi de la commande');\n      }\n      const responseData = await response.json();\n      console.log('Réponse de l\\'API :', responseData);\n      alert(\"Votre commande a bien été envoyée !\");\n      localStorage.removeItem('foodSaiko');\n      navigate('/');\n    } catch (error) {\n      console.error(\"Erreur lors de l'envoi de la commande : \", error);\n      alert('Une erreur est survenue lors de l\\'envoi de la commande.');\n    }\n  };\n  const updateQuantity = (id, delta) => {\n    const updatedCartItems = cartItems.map(item => {\n      if (item.id === id) {\n        return {\n          ...item,\n          quantity: item.quantity + delta\n        };\n      }\n      return item;\n    }).filter(item => item.quantity > 0);\n    setCartItems(updatedCartItems);\n    localStorage.setItem('foodSaiko', JSON.stringify(updatedCartItems));\n  };\n  const handleCommentClick = productId => {\n    var _cartItems$find;\n    const existingComment = ((_cartItems$find = cartItems.find(item => item.id === productId)) === null || _cartItems$find === void 0 ? void 0 : _cartItems$find.comment) || \"\";\n    setTempComment(existingComment);\n    setCommentProductId(productId);\n    document.body.style.overflow = \"hidden\";\n  };\n  const handleCommentSubmit = () => {\n    const updatedCartItems = cartItems.map(item => {\n      if (item.id === commentProductId) {\n        return {\n          ...item,\n          comment: tempComment || \"\"\n        };\n      }\n      return item;\n    });\n    setCartItems(updatedCartItems);\n    localStorage.setItem('foodSaiko', JSON.stringify(updatedCartItems));\n    setCommentProductId(null);\n    setTempComment(\"\");\n  };\n  const handleCommentChange = e => {\n    setTempComment(e.target.value);\n  };\n  const closeCommentInput = () => {\n    setCommentProductId(null);\n    setTempComment(\"\");\n    document.body.style.overflow = \"\";\n  };\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (commentProductId && !event.target.closest(\".comment-input\")) {\n        closeCommentInput();\n      }\n    };\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, [commentProductId]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"containerGlobalBasket\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"containerItemsBasket\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Panier\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 17\n      }, this), cartItems.length > 0 ? cartItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"containerBasketItem\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"basket-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"textGold\",\n              children: [item.quantity, \" x\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 36\n            }, this), \" - \", item.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container-btn-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"material-symbols-outlined\",\n              onClick: () => handleCommentClick(item.id),\n              children: \"chat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => updateQuantity(item.id, 1),\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => updateQuantity(item.id, -1),\n              children: \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 33\n          }, this), commentProductId === item.id && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"comment-input\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Ajouter un commentaire \\xE0 votre produit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              placeholder: \"Ajouter un commentaire\",\n              value: tempComment,\n              onChange: handleCommentChange,\n              rows: 3,\n              resize: \"vertical\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"button-comment\",\n              onClick: handleCommentSubmit,\n              children: \"Valider\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 29\n        }, this), item.comment && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"*\", item.comment]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 42\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 25\n      }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"basket-empty\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-symbols-outlined\",\n          children: \"production_quantity_limits\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Votre panier est actuellement vide\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 21\n      }, this), cartItems.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"total-price\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"textGold\",\n          children: \"Prix total :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 48\n        }, this), \" \", totalPrice.toFixed(2), \" \\u20AC\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"containerFormBasket\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(onSubmit),\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Pr\\xE9nom\",\n          ...register(\"firstname\", {\n            required: \"Prénom requis\"\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error-message\",\n          children: (_errors$firstname = errors.firstname) === null || _errors$firstname === void 0 ? void 0 : _errors$firstname.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Nom\",\n          ...register(\"lastname\", {\n            required: \"Nom requis\"\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error-message\",\n          children: (_errors$lastname = errors.lastname) === null || _errors$lastname === void 0 ? void 0 : _errors$lastname.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          placeholder: \"Email\",\n          ...register(\"email\", {\n            required: \"Email requis\"\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error-message\",\n          children: (_errors$email = errors.email) === null || _errors$email === void 0 ? void 0 : _errors$email.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"tel\",\n          placeholder: \"T\\xE9l\\xE9phone\",\n          ...register(\"phone\", {\n            required: \"Téléphone requis\"\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error-message\",\n          children: (_errors$phone = errors.phone) === null || _errors$phone === void 0 ? void 0 : _errors$phone.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 21\n        }, this), watch(\"method\") === \"DELIVERY\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Code postal\",\n            ...register(\"postal_code\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Pays\",\n            ...register(\"country\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Ville\",\n            ...register(\"city\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Adresse\",\n            ...register(\"street\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(\"select\", {\n          ...register(\"method\"),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"PICKUP\",\n            children: \"\\xC0 emporter\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"DELIVERY\",\n            children: \"Livraison\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"select-payment\",\n          ...register(\"payment\", {\n            required: \"Sélectionnez un mode de paiement\"\n          }),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Mode de paiement\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"CASH\",\n            children: \"Esp\\xE8ces\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"CB\",\n            children: \"Carte bancaire\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error-message\",\n          children: (_errors$payment = errors.payment) === null || _errors$payment === void 0 ? void 0 : _errors$payment.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          placeholder: \"Commentaire\",\n          ...register(\"comment\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          style: {\n            marginTop: \"20px\"\n          },\n          type: \"submit\",\n          value: \"Commander\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 192,\n    columnNumber: 9\n  }, this);\n}\n_s(BasketComponent, \"DoPzGu+gbsc0k2SgT9lqQAAA7aU=\", false, function () {\n  return [useNavigate, useForm];\n});\n_c = BasketComponent;\nexport default BasketComponent;\nvar _c;\n$RefreshReg$(_c, \"BasketComponent\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useForm","textJson","jsxDEV","_jsxDEV","Fragment","_Fragment","BasketComponent","_s","_errors$firstname","_errors$lastname","_errors$email","_errors$phone","_errors$payment","totalPrice","setTotalPrice","cartItems","setCartItems","isOpen","setIsOpen","commentProductId","setCommentProductId","tempComment","setTempComment","nameRestaurant","refRestaurant","navigate","openingHours","register","handleSubmit","watch","setValue","formState","errors","defaultValues","firstname","lastname","email","phone","street","country","postal_code","city","method","payment","comment","ref_restaurant","checkIfOpen","now","Date","currentDay","getDay","currentHour","getHours","getMinutes","isOpenNow","some","day","start","end","interval","setInterval","clearInterval","storedCartItems","JSON","parse","localStorage","getItem","newTotalPrice","reduce","total","item","price","quantity","onSubmit","data","addressData","category","orderPayload","order","amount_total","amount_subtotal","amount_tax","status","payment_status","requested_time","toISOString","completed_at","restaurant_id","type","customer","first_name","last_name","order_items","map","name","subtotal","unit_price","product_id","id","order_status_history","address","response","fetch","headers","body","stringify","ok","Error","responseData","json","console","log","alert","removeItem","error","updateQuantity","delta","updatedCartItems","filter","setItem","handleCommentClick","productId","_cartItems$find","existingComment","find","document","style","overflow","handleCommentSubmit","handleCommentChange","e","target","value","closeCommentInput","handleClickOutside","event","closest","addEventListener","removeEventListener","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","onClick","placeholder","onChange","rows","resize","toFixed","required","message","marginTop","_c","$RefreshReg$"],"sources":["/Users/dwainabrivard/Desktop/yumco/website/templates/template-1/Template-1-website-YumEats/src/Components/BasketComponent/BasketComponent.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport \"./BasketComponent.css\";\nimport textJson from \"../TextJson/TextJson.json\";\n\nfunction BasketComponent() {\n    const [totalPrice, setTotalPrice] = useState(0);\n    const [cartItems, setCartItems] = useState([]);\n    const [isOpen, setIsOpen] = useState(false);\n    const [commentProductId, setCommentProductId] = useState(null); \n    const [tempComment, setTempComment] = useState(\"\"); \n    const nameRestaurant = textJson.refRestaurant;\n    const navigate = useNavigate();\n    const openingHours = textJson.openingHours;\n\n    const { register, handleSubmit, watch, setValue, formState: { errors } } = useForm({\n        defaultValues: {\n            firstname: \"\",\n            lastname: \"\",\n            email: \"\",\n            phone: \"\",\n            street: \"\",\n            country: \"\",\n            postal_code: \"\",\n            city: \"\",\n            method: \"PICKUP\",\n            payment: \"\",\n            comment: \"\",\n            ref_restaurant: nameRestaurant\n        }\n    });\n\n    const checkIfOpen = () => {\n        const now = new Date();\n        const currentDay = now.getDay();\n        const currentHour = now.getHours() + now.getMinutes() / 60;\n\n        const isOpenNow = openingHours.some(\n            ({ day, start, end }) => day === currentDay && currentHour >= start && currentHour < end\n        );\n\n        setIsOpen(isOpenNow);\n    };\n\n    useEffect(() => {\n        checkIfOpen();\n        const interval = setInterval(checkIfOpen, 60000);\n        return () => clearInterval(interval);\n    }, []);\n\n    useEffect(() => {\n        const storedCartItems = JSON.parse(localStorage.getItem('foodSaiko')) || [];\n        setCartItems(storedCartItems);\n    }, []);\n\n    useEffect(() => {\n        const newTotalPrice = cartItems.reduce((total, item) => {\n            return total + (item.price * item.quantity);\n        }, 0);\n        setTotalPrice(newTotalPrice);\n    }, [cartItems]);\n\n    const onSubmit = async (data) => {\n        try {\n            const addressData = (data.street || data.city || data.postal_code || data.country) ? {\n                street: data.street,\n                city: data.city,\n                postal_code: data.postal_code,\n                country: data.country,\n                category: \"ORDERS\",\n            } : null;\n\n            const orderPayload = {\n                order: {\n                    amount_total: totalPrice,\n                    amount_subtotal: totalPrice,\n                    amount_tax: totalPrice,\n                    status: \"PENDING\",\n                    comment: data.comment,\n                    payment_status: \"unpaid\",\n                    requested_time: new Date().toISOString(),\n                    completed_at: null,\n                    restaurant_id: nameRestaurant,\n                    type: data.method,\n                },\n                customer: {\n                    first_name: data.firstname,\n                    last_name: data.lastname,\n                    email: data.email,\n                    phone: data.phone,\n                },\n                order_items: cartItems.map((item) => ({\n                    quantity: item.quantity,\n                    name: item.name,\n                    subtotal: item.price * item.quantity,\n                    unit_price: item.price,\n                    product_id: item.id,\n                    comment: item.comment || \"\",\n                })),\n                order_status_history: [\n                    {\n                        status: \"PENDING\",\n                    },\n                ],\n            };\n\n            if (addressData) {\n                orderPayload.address = addressData;\n            }\n\n            const response = await fetch('https://ehjbdvbicusntqbhlqun.supabase.co/functions/v1/add_order_with_items', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify(orderPayload),\n            });\n\n            if (!response.ok) {\n                throw new Error('Problème lors de l\\'envoi de la commande');\n            }\n\n            const responseData = await response.json();\n            console.log('Réponse de l\\'API :', responseData);\n\n            alert(\"Votre commande a bien été envoyée !\");\n            localStorage.removeItem('foodSaiko');\n            navigate('/');\n        } catch (error) {\n            console.error(\"Erreur lors de l'envoi de la commande : \", error);\n            alert('Une erreur est survenue lors de l\\'envoi de la commande.');\n        }\n    };\n\n    const updateQuantity = (id, delta) => {\n        const updatedCartItems = cartItems.map(item => {\n            if (item.id === id) {\n                return { ...item, quantity: item.quantity + delta };\n            }\n            return item;\n        }).filter(item => item.quantity > 0);\n\n        setCartItems(updatedCartItems);\n        localStorage.setItem('foodSaiko', JSON.stringify(updatedCartItems));\n    };\n\n    const handleCommentClick = (productId) => {\n        const existingComment = cartItems.find(item => item.id === productId)?.comment || \"\";\n        setTempComment(existingComment);\n        setCommentProductId(productId);\n        document.body.style.overflow = \"hidden\";\n    };\n\n    const handleCommentSubmit = () => {\n        const updatedCartItems = cartItems.map(item => {\n            if (item.id === commentProductId) {\n                return { ...item, comment: tempComment || \"\" };\n            }\n            return item;\n        });\n\n        setCartItems(updatedCartItems);\n        localStorage.setItem('foodSaiko', JSON.stringify(updatedCartItems));\n        setCommentProductId(null);\n        setTempComment(\"\");\n    };\n\n    const handleCommentChange = (e) => {\n        setTempComment(e.target.value);\n    };\n\n    const closeCommentInput = () => {\n        setCommentProductId(null);\n        setTempComment(\"\");\n        document.body.style.overflow = \"\";\n    };\n\n    useEffect(() => {\n        const handleClickOutside = (event) => {\n            if (commentProductId && !event.target.closest(\".comment-input\")) {\n                closeCommentInput();\n            }\n        };\n\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n    }, [commentProductId]);\n\n\n    return (\n        <div className=\"containerGlobalBasket\">\n            <div className=\"containerItemsBasket\">\n                <h2>Panier</h2>\n                {cartItems.length > 0 ? (\n                    cartItems.map((item) => (\n                        <div key={item.id} className=\"containerBasketItem\">\n                            <div  className=\"basket-item\">\n                                <p><span className=\"textGold\">{item.quantity} x</span> - {item.name}</p>\n                                <div className=\"container-btn-item\">\n                                    <span \n                                        className=\"material-symbols-outlined\" \n                                        onClick={() => handleCommentClick(item.id)}\n                                    >chat</span>\n                                    <button onClick={() => updateQuantity(item.id, 1)}>+</button>\n                                    <button onClick={() => updateQuantity(item.id, -1)}>-</button>\n                                </div>\n                                {commentProductId === item.id && (\n                                    <div className=\"comment-input\">\n                                        <h3>Ajouter un commentaire à votre produit</h3>\n                                        <textarea \n                                            placeholder=\"Ajouter un commentaire\"\n                                            value={tempComment}\n                                            onChange={handleCommentChange}\n                                            rows={3}\n                                            resize=\"vertical\"\n                                        />\n                                        <button className=\"button-comment\" onClick={handleCommentSubmit}>Valider</button>\n                                    </div>\n                                )}\n                            </div>\n                        {item.comment && <p>*{item.comment}</p>}\n                        </div>\n                    ))\n                ) : (\n                    <div className=\"basket-empty\">\n                        <span className=\"material-symbols-outlined\">production_quantity_limits</span>\n                        <p>Votre panier est actuellement vide</p>\n                    </div>\n                )}\n                {cartItems.length > 0 && (\n                    <p className=\"total-price\"><span className=\"textGold\">Prix total :</span> {totalPrice.toFixed(2)} €</p>\n                )}\n            </div>\n\n            <div className=\"containerFormBasket\">\n                <form onSubmit={handleSubmit(onSubmit)}>\n                    <input type=\"text\" placeholder=\"Prénom\" {...register(\"firstname\", { required: \"Prénom requis\" })} />\n                    <p className=\"error-message\">{errors.firstname?.message}</p>\n\n                    <input type=\"text\" placeholder=\"Nom\" {...register(\"lastname\", { required: \"Nom requis\" })} />\n                    <p className=\"error-message\">{errors.lastname?.message}</p>\n\n                    <input type=\"email\" placeholder=\"Email\" {...register(\"email\", { required: \"Email requis\" })} />\n                    <p className=\"error-message\">{errors.email?.message}</p>\n\n                    <input type=\"tel\" placeholder=\"Téléphone\" {...register(\"phone\", { required: \"Téléphone requis\" })} />\n                    <p className=\"error-message\">{errors.phone?.message}</p>\n\n                    {watch(\"method\") === \"DELIVERY\" && (\n                        <>\n                            <input type=\"text\" placeholder=\"Code postal\" {...register(\"postal_code\")} />\n                            <input type=\"text\" placeholder=\"Pays\" {...register(\"country\")} />\n                            <input type=\"text\" placeholder=\"Ville\" {...register(\"city\")} />\n                            <input type=\"text\" placeholder=\"Adresse\" {...register(\"street\")} />\n                        </>\n                    )}\n\n                    <select {...register(\"method\")}>\n                        <option value=\"PICKUP\">À emporter</option>\n                        <option value=\"DELIVERY\">Livraison</option>\n                    </select>\n\n                    <select className=\"select-payment\" {...register(\"payment\", { required: \"Sélectionnez un mode de paiement\" })}>\n                        <option value=\"\">Mode de paiement</option>\n                        <option value=\"CASH\">Espèces</option>\n                        <option value=\"CB\">Carte bancaire</option>\n                    </select>\n                    <p className=\"error-message\">{errors.payment?.message}</p>\n\n                    <textarea placeholder=\"Commentaire\" {...register(\"comment\")}></textarea>\n                    <input style={{marginTop:\"20px\"}}  type=\"submit\" value={\"Commander\"}/>\n                </form>\n            </div>\n        </div>\n    );\n}\n\nexport default BasketComponent;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}