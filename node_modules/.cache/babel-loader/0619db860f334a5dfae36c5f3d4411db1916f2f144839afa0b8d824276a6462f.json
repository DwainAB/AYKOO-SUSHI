{"ast":null,"code":"var _jsxFileName = \"/Users/dwainabrivard/Desktop/yumco/website/templates/template-1/Template-1-website-YumEats/src/Components/BasketComponent/BasketComponent.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport \"./BasketComponent.css\";\nimport textJson from \"../TextJson/TextJson.json\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction BasketComponent() {\n  _s();\n  var _errors$firstname, _errors$lastname, _errors$email, _errors$phone, _errors$payment;\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [cartItems, setCartItems] = useState([]);\n  const [isOpen, setIsOpen] = useState(false);\n  const [commentProductId, setCommentProductId] = useState(null);\n  const [tempComment, setTempComment] = useState(\"\");\n  const nameRestaurant = textJson.refRestaurant;\n  const navigate = useNavigate();\n  const openingHours = textJson.openingHours;\n  const {\n    register,\n    handleSubmit,\n    watch,\n    setValue,\n    formState: {\n      errors\n    }\n  } = useForm({\n    defaultValues: {\n      firstname: \"\",\n      lastname: \"\",\n      email: \"\",\n      phone: \"\",\n      street: \"\",\n      country: \"\",\n      postal_code: \"\",\n      city: \"\",\n      method: \"PICKUP\",\n      payment: \"\",\n      comment: \"\",\n      ref_restaurant: nameRestaurant\n    }\n  });\n  const checkIfOpen = () => {\n    const now = new Date();\n    const currentDay = now.getDay();\n    const currentHour = now.getHours() + now.getMinutes() / 60;\n    if (Array.isArray(openingHours)) {\n      const isOpenNow = openingHours.some(({\n        day,\n        start,\n        end\n      }) => day === currentDay && currentHour >= start && currentHour < end);\n      setIsOpen(isOpenNow);\n    } else {\n      console.error(\"openingHours n'est pas défini ou n'est pas un tableau\");\n      setIsOpen(false);\n    }\n  };\n  useEffect(() => {\n    checkIfOpen();\n    const interval = setInterval(checkIfOpen, 60000);\n    return () => clearInterval(interval);\n  }, []);\n  useEffect(() => {\n    const storedCartItems = JSON.parse(localStorage.getItem('foodSaiko')) || [];\n    setCartItems(storedCartItems);\n  }, []);\n  useEffect(() => {\n    const newTotalPrice = cartItems.reduce((total, item) => {\n      return total + item.price * item.quantity;\n    }, 0);\n    setTotalPrice(newTotalPrice);\n  }, [cartItems]);\n  const onSubmit = async data => {\n    try {\n      const addressData = data.street || data.city || data.postal_code || data.country ? {\n        street: data.street,\n        city: data.city,\n        postal_code: data.postal_code,\n        country: data.country,\n        category: \"ORDERS\"\n      } : null;\n      const orderPayload = {\n        order: {\n          amount_total: totalPrice,\n          amount_subtotal: totalPrice,\n          amount_tax: totalPrice,\n          status: \"PENDING\",\n          comment: data.comment,\n          payment_status: \"unpaid\",\n          requested_time: new Date().toISOString(),\n          completed_at: null,\n          restaurant_id: nameRestaurant,\n          type: data.method\n        },\n        customer: {\n          first_name: data.firstname,\n          last_name: data.lastname,\n          email: data.email,\n          phone: data.phone\n        },\n        order_items: cartItems.map(item => ({\n          quantity: item.quantity,\n          name: item.name,\n          subtotal: item.price * item.quantity,\n          unit_price: item.price,\n          product_id: item.id,\n          comment: item.comment || \"\"\n        })),\n        order_status_history: [{\n          status: \"PENDING\"\n        }]\n      };\n      if (addressData) {\n        orderPayload.address = addressData;\n      }\n      const response = await fetch('https://ehjbdvbicusntqbhlqun.supabase.co/functions/v1/add_order_with_items', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(orderPayload)\n      });\n      if (!response.ok) {\n        throw new Error('Problème lors de l\\'envoi de la commande');\n      }\n      const responseData = await response.json();\n      alert(\"Votre commande a bien été envoyée !\");\n      localStorage.removeItem('foodSaiko');\n      navigate('/');\n    } catch (error) {\n      console.error(\"Erreur lors de l'envoi de la commande : \", error);\n      alert('Une erreur est survenue lors de l\\'envoi de la commande.');\n    }\n  };\n  const updateQuantity = (id, delta) => {\n    const updatedCartItems = cartItems.map(item => {\n      if (item.id === id) {\n        return {\n          ...item,\n          quantity: item.quantity + delta\n        };\n      }\n      return item;\n    }).filter(item => item.quantity > 0);\n    setCartItems(updatedCartItems);\n    localStorage.setItem('foodSaiko', JSON.stringify(updatedCartItems));\n  };\n  const handleCommentClick = productId => {\n    var _cartItems$find;\n    const existingComment = ((_cartItems$find = cartItems.find(item => item.id === productId)) === null || _cartItems$find === void 0 ? void 0 : _cartItems$find.comment) || \"\";\n    setTempComment(existingComment);\n    setCommentProductId(productId);\n    document.body.style.overflow = \"hidden\";\n  };\n  const handleCommentSubmit = () => {\n    const updatedCartItems = cartItems.map(item => {\n      if (item.id === commentProductId) {\n        return {\n          ...item,\n          comment: tempComment || \"\"\n        };\n      }\n      return item;\n    });\n    setCartItems(updatedCartItems);\n    localStorage.setItem('foodSaiko', JSON.stringify(updatedCartItems));\n    setCommentProductId(null);\n    setTempComment(\"\");\n  };\n  const handleCommentChange = e => {\n    setTempComment(e.target.value);\n  };\n  const closeCommentInput = () => {\n    setCommentProductId(null);\n    setTempComment(\"\");\n    document.body.style.overflow = \"\";\n  };\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (commentProductId && !event.target.closest(\".comment-input\")) {\n        closeCommentInput();\n      }\n    };\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, [commentProductId]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"containerGlobalBasket\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"containerItemsBasket\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Panier\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 17\n      }, this), cartItems.length > 0 ? cartItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"containerBasketItem\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"basket-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"textGold\",\n              children: [item.quantity, \" x\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 36\n            }, this), \" - \", item.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container-btn-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"material-symbols-outlined\",\n              onClick: () => handleCommentClick(item.id),\n              children: \"chat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => updateQuantity(item.id, 1),\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => updateQuantity(item.id, -1),\n              children: \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 33\n          }, this), commentProductId === item.id && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"comment-input\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Ajouter un commentaire \\xE0 votre produit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              placeholder: \"Ajouter un commentaire\",\n              value: tempComment,\n              onChange: handleCommentChange,\n              rows: 3,\n              resize: \"vertical\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"button-comment\",\n              onClick: handleCommentSubmit,\n              children: \"Valider\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 29\n        }, this), item.comment && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"*\", item.comment]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 42\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 25\n      }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"basket-empty\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-symbols-outlined\",\n          children: \"production_quantity_limits\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Votre panier est actuellement vide\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 21\n      }, this), cartItems.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"total-price\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"textGold\",\n          children: \"Prix total :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 48\n        }, this), \" \", totalPrice.toFixed(2), \" \\u20AC\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"containerFormBasket\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(onSubmit),\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Pr\\xE9nom\",\n          ...register(\"firstname\", {\n            required: \"Prénom requis\"\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error-message\",\n          children: (_errors$firstname = errors.firstname) === null || _errors$firstname === void 0 ? void 0 : _errors$firstname.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Nom\",\n          ...register(\"lastname\", {\n            required: \"Nom requis\"\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error-message\",\n          children: (_errors$lastname = errors.lastname) === null || _errors$lastname === void 0 ? void 0 : _errors$lastname.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          placeholder: \"Email\",\n          ...register(\"email\", {\n            required: \"Email requis\"\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error-message\",\n          children: (_errors$email = errors.email) === null || _errors$email === void 0 ? void 0 : _errors$email.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"tel\",\n          placeholder: \"T\\xE9l\\xE9phone\",\n          ...register(\"phone\", {\n            required: \"Téléphone requis\"\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error-message\",\n          children: (_errors$phone = errors.phone) === null || _errors$phone === void 0 ? void 0 : _errors$phone.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 21\n        }, this), watch(\"method\") === \"DELIVERY\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Code postal\",\n            ...register(\"postal_code\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Pays\",\n            ...register(\"country\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Ville\",\n            ...register(\"city\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Adresse\",\n            ...register(\"street\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(\"select\", {\n          ...register(\"method\"),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"PICKUP\",\n            children: \"\\xC0 emporter\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"DELIVERY\",\n            children: \"Livraison\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"select-payment\",\n          ...register(\"payment\", {\n            required: \"Sélectionnez un mode de paiement\"\n          }),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Mode de paiement\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"CASH\",\n            children: \"Esp\\xE8ces\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"CB\",\n            children: \"Carte bancaire\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error-message\",\n          children: (_errors$payment = errors.payment) === null || _errors$payment === void 0 ? void 0 : _errors$payment.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          placeholder: \"Commentaire\",\n          ...register(\"comment\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          style: {\n            marginTop: \"20px\"\n          },\n          type: \"submit\",\n          value: \"Commander\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 196,\n    columnNumber: 9\n  }, this);\n}\n_s(BasketComponent, \"DoPzGu+gbsc0k2SgT9lqQAAA7aU=\", false, function () {\n  return [useNavigate, useForm];\n});\n_c = BasketComponent;\nexport default BasketComponent;\nvar _c;\n$RefreshReg$(_c, \"BasketComponent\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useForm","textJson","jsxDEV","_jsxDEV","Fragment","_Fragment","BasketComponent","_s","_errors$firstname","_errors$lastname","_errors$email","_errors$phone","_errors$payment","totalPrice","setTotalPrice","cartItems","setCartItems","isOpen","setIsOpen","commentProductId","setCommentProductId","tempComment","setTempComment","nameRestaurant","refRestaurant","navigate","openingHours","register","handleSubmit","watch","setValue","formState","errors","defaultValues","firstname","lastname","email","phone","street","country","postal_code","city","method","payment","comment","ref_restaurant","checkIfOpen","now","Date","currentDay","getDay","currentHour","getHours","getMinutes","Array","isArray","isOpenNow","some","day","start","end","console","error","interval","setInterval","clearInterval","storedCartItems","JSON","parse","localStorage","getItem","newTotalPrice","reduce","total","item","price","quantity","onSubmit","data","addressData","category","orderPayload","order","amount_total","amount_subtotal","amount_tax","status","payment_status","requested_time","toISOString","completed_at","restaurant_id","type","customer","first_name","last_name","order_items","map","name","subtotal","unit_price","product_id","id","order_status_history","address","response","fetch","headers","body","stringify","ok","Error","responseData","json","alert","removeItem","updateQuantity","delta","updatedCartItems","filter","setItem","handleCommentClick","productId","_cartItems$find","existingComment","find","document","style","overflow","handleCommentSubmit","handleCommentChange","e","target","value","closeCommentInput","handleClickOutside","event","closest","addEventListener","removeEventListener","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","onClick","placeholder","onChange","rows","resize","toFixed","required","message","marginTop","_c","$RefreshReg$"],"sources":["/Users/dwainabrivard/Desktop/yumco/website/templates/template-1/Template-1-website-YumEats/src/Components/BasketComponent/BasketComponent.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport \"./BasketComponent.css\";\nimport textJson from \"../TextJson/TextJson.json\";\n\nfunction BasketComponent() {\n    const [totalPrice, setTotalPrice] = useState(0);\n    const [cartItems, setCartItems] = useState([]);\n    const [isOpen, setIsOpen] = useState(false);\n    const [commentProductId, setCommentProductId] = useState(null); \n    const [tempComment, setTempComment] = useState(\"\"); \n    const nameRestaurant = textJson.refRestaurant;\n    const navigate = useNavigate();\n    const openingHours = textJson.openingHours;\n\n    const { register, handleSubmit, watch, setValue, formState: { errors } } = useForm({\n        defaultValues: {\n            firstname: \"\",\n            lastname: \"\",\n            email: \"\",\n            phone: \"\",\n            street: \"\",\n            country: \"\",\n            postal_code: \"\",\n            city: \"\",\n            method: \"PICKUP\",\n            payment: \"\",\n            comment: \"\",\n            ref_restaurant: nameRestaurant\n        }\n    });\n\n    const checkIfOpen = () => {\n        const now = new Date();\n        const currentDay = now.getDay();\n        const currentHour = now.getHours() + now.getMinutes() / 60;\n\n        if (Array.isArray(openingHours)) {\n            const isOpenNow = openingHours.some(\n                ({ day, start, end }) => day === currentDay && currentHour >= start && currentHour < end\n            );\n\n            setIsOpen(isOpenNow);\n        } else {\n            console.error(\"openingHours n'est pas défini ou n'est pas un tableau\");\n            setIsOpen(false);\n        }\n    };\n\n    useEffect(() => {\n        checkIfOpen();\n        const interval = setInterval(checkIfOpen, 60000);\n        return () => clearInterval(interval);\n    }, []);\n\n    useEffect(() => {\n        const storedCartItems = JSON.parse(localStorage.getItem('foodSaiko')) || [];\n        setCartItems(storedCartItems);\n    }, []);\n\n    useEffect(() => {\n        const newTotalPrice = cartItems.reduce((total, item) => {\n            return total + (item.price * item.quantity);\n        }, 0);\n        setTotalPrice(newTotalPrice);\n    }, [cartItems]);\n\n    const onSubmit = async (data) => {\n        try {\n            const addressData = (data.street || data.city || data.postal_code || data.country) ? {\n                street: data.street,\n                city: data.city,\n                postal_code: data.postal_code,\n                country: data.country,\n                category: \"ORDERS\",\n            } : null;\n\n            const orderPayload = {\n                order: {\n                    amount_total: totalPrice,\n                    amount_subtotal: totalPrice,\n                    amount_tax: totalPrice,\n                    status: \"PENDING\",\n                    comment: data.comment,\n                    payment_status: \"unpaid\",\n                    requested_time: new Date().toISOString(),\n                    completed_at: null,\n                    restaurant_id: nameRestaurant,\n                    type: data.method,\n                },\n                customer: {\n                    first_name: data.firstname,\n                    last_name: data.lastname,\n                    email: data.email,\n                    phone: data.phone,\n                },\n                order_items: cartItems.map((item) => ({\n                    quantity: item.quantity,\n                    name: item.name,\n                    subtotal: item.price * item.quantity,\n                    unit_price: item.price,\n                    product_id: item.id,\n                    comment: item.comment || \"\",\n                })),\n                order_status_history: [\n                    {\n                        status: \"PENDING\",\n                    },\n                ],\n            };\n\n            if (addressData) {\n                orderPayload.address = addressData;\n            }\n\n            const response = await fetch('https://ehjbdvbicusntqbhlqun.supabase.co/functions/v1/add_order_with_items', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify(orderPayload),\n            });\n\n            if (!response.ok) {\n                throw new Error('Problème lors de l\\'envoi de la commande');\n            }\n\n            const responseData = await response.json();\n\n            alert(\"Votre commande a bien été envoyée !\");\n            localStorage.removeItem('foodSaiko');\n            navigate('/');\n        } catch (error) {\n            console.error(\"Erreur lors de l'envoi de la commande : \", error);\n            alert('Une erreur est survenue lors de l\\'envoi de la commande.');\n        }\n    };\n\n    const updateQuantity = (id, delta) => {\n        const updatedCartItems = cartItems.map(item => {\n            if (item.id === id) {\n                return { ...item, quantity: item.quantity + delta };\n            }\n            return item;\n        }).filter(item => item.quantity > 0);\n\n        setCartItems(updatedCartItems);\n        localStorage.setItem('foodSaiko', JSON.stringify(updatedCartItems));\n    };\n\n    const handleCommentClick = (productId) => {\n        const existingComment = cartItems.find(item => item.id === productId)?.comment || \"\";\n        setTempComment(existingComment);\n        setCommentProductId(productId);\n        document.body.style.overflow = \"hidden\";\n    };\n\n    const handleCommentSubmit = () => {\n        const updatedCartItems = cartItems.map(item => {\n            if (item.id === commentProductId) {\n                return { ...item, comment: tempComment || \"\" };\n            }\n            return item;\n        });\n\n        setCartItems(updatedCartItems);\n        localStorage.setItem('foodSaiko', JSON.stringify(updatedCartItems));\n        setCommentProductId(null);\n        setTempComment(\"\");\n    };\n\n    const handleCommentChange = (e) => {\n        setTempComment(e.target.value);\n    };\n\n    const closeCommentInput = () => {\n        setCommentProductId(null);\n        setTempComment(\"\");\n        document.body.style.overflow = \"\";\n    };\n\n    useEffect(() => {\n        const handleClickOutside = (event) => {\n            if (commentProductId && !event.target.closest(\".comment-input\")) {\n                closeCommentInput();\n            }\n        };\n\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n    }, [commentProductId]);\n\n\n    return (\n        <div className=\"containerGlobalBasket\">\n            <div className=\"containerItemsBasket\">\n                <h2>Panier</h2>\n                {cartItems.length > 0 ? (\n                    cartItems.map((item) => (\n                        <div key={item.id} className=\"containerBasketItem\">\n                            <div  className=\"basket-item\">\n                                <p><span className=\"textGold\">{item.quantity} x</span> - {item.name}</p>\n                                <div className=\"container-btn-item\">\n                                    <span \n                                        className=\"material-symbols-outlined\" \n                                        onClick={() => handleCommentClick(item.id)}\n                                    >chat</span>\n                                    <button onClick={() => updateQuantity(item.id, 1)}>+</button>\n                                    <button onClick={() => updateQuantity(item.id, -1)}>-</button>\n                                </div>\n                                {commentProductId === item.id && (\n                                    <div className=\"comment-input\">\n                                        <h3>Ajouter un commentaire à votre produit</h3>\n                                        <textarea \n                                            placeholder=\"Ajouter un commentaire\"\n                                            value={tempComment}\n                                            onChange={handleCommentChange}\n                                            rows={3}\n                                            resize=\"vertical\"\n                                        />\n                                        <button className=\"button-comment\" onClick={handleCommentSubmit}>Valider</button>\n                                    </div>\n                                )}\n                            </div>\n                        {item.comment && <p>*{item.comment}</p>}\n                        </div>\n                    ))\n                ) : (\n                    <div className=\"basket-empty\">\n                        <span className=\"material-symbols-outlined\">production_quantity_limits</span>\n                        <p>Votre panier est actuellement vide</p>\n                    </div>\n                )}\n                {cartItems.length > 0 && (\n                    <p className=\"total-price\"><span className=\"textGold\">Prix total :</span> {totalPrice.toFixed(2)} €</p>\n                )}\n            </div>\n\n            <div className=\"containerFormBasket\">\n                <form onSubmit={handleSubmit(onSubmit)}>\n                    <input type=\"text\" placeholder=\"Prénom\" {...register(\"firstname\", { required: \"Prénom requis\" })} />\n                    <p className=\"error-message\">{errors.firstname?.message}</p>\n\n                    <input type=\"text\" placeholder=\"Nom\" {...register(\"lastname\", { required: \"Nom requis\" })} />\n                    <p className=\"error-message\">{errors.lastname?.message}</p>\n\n                    <input type=\"email\" placeholder=\"Email\" {...register(\"email\", { required: \"Email requis\" })} />\n                    <p className=\"error-message\">{errors.email?.message}</p>\n\n                    <input type=\"tel\" placeholder=\"Téléphone\" {...register(\"phone\", { required: \"Téléphone requis\" })} />\n                    <p className=\"error-message\">{errors.phone?.message}</p>\n\n                    {watch(\"method\") === \"DELIVERY\" && (\n                        <>\n                            <input type=\"text\" placeholder=\"Code postal\" {...register(\"postal_code\")} />\n                            <input type=\"text\" placeholder=\"Pays\" {...register(\"country\")} />\n                            <input type=\"text\" placeholder=\"Ville\" {...register(\"city\")} />\n                            <input type=\"text\" placeholder=\"Adresse\" {...register(\"street\")} />\n                        </>\n                    )}\n\n                    <select {...register(\"method\")}>\n                        <option value=\"PICKUP\">À emporter</option>\n                        <option value=\"DELIVERY\">Livraison</option>\n                    </select>\n\n                    <select className=\"select-payment\" {...register(\"payment\", { required: \"Sélectionnez un mode de paiement\" })}>\n                        <option value=\"\">Mode de paiement</option>\n                        <option value=\"CASH\">Espèces</option>\n                        <option value=\"CB\">Carte bancaire</option>\n                    </select>\n                    <p className=\"error-message\">{errors.payment?.message}</p>\n\n                    <textarea placeholder=\"Commentaire\" {...register(\"comment\")}></textarea>\n                    <input style={{marginTop:\"20px\"}}  type=\"submit\" value={\"Commander\"}/>\n                </form>\n            </div>\n        </div>\n    );\n}\n\nexport default BasketComponent;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,OAAO,QAAQ,iBAAiB;AACzC,OAAO,uBAAuB;AAC9B,OAAOC,QAAQ,MAAM,2BAA2B;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEjD,SAASC,eAAeA,CAAA,EAAG;EAAAC,EAAA;EAAA,IAAAC,iBAAA,EAAAC,gBAAA,EAAAC,aAAA,EAAAC,aAAA,EAAAC,eAAA;EACvB,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGhB,QAAQ,CAAC,CAAC,CAAC;EAC/C,MAAM,CAACiB,SAAS,EAAEC,YAAY,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACmB,MAAM,EAAEC,SAAS,CAAC,GAAGpB,QAAQ,CAAC,KAAK,CAAC;EAC3C,MAAM,CAACqB,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGtB,QAAQ,CAAC,IAAI,CAAC;EAC9D,MAAM,CAACuB,WAAW,EAAEC,cAAc,CAAC,GAAGxB,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAMyB,cAAc,GAAGtB,QAAQ,CAACuB,aAAa;EAC7C,MAAMC,QAAQ,GAAG1B,WAAW,CAAC,CAAC;EAC9B,MAAM2B,YAAY,GAAGzB,QAAQ,CAACyB,YAAY;EAE1C,MAAM;IAAEC,QAAQ;IAAEC,YAAY;IAAEC,KAAK;IAAEC,QAAQ;IAAEC,SAAS,EAAE;MAAEC;IAAO;EAAE,CAAC,GAAGhC,OAAO,CAAC;IAC/EiC,aAAa,EAAE;MACXC,SAAS,EAAE,EAAE;MACbC,QAAQ,EAAE,EAAE;MACZC,KAAK,EAAE,EAAE;MACTC,KAAK,EAAE,EAAE;MACTC,MAAM,EAAE,EAAE;MACVC,OAAO,EAAE,EAAE;MACXC,WAAW,EAAE,EAAE;MACfC,IAAI,EAAE,EAAE;MACRC,MAAM,EAAE,QAAQ;MAChBC,OAAO,EAAE,EAAE;MACXC,OAAO,EAAE,EAAE;MACXC,cAAc,EAAEtB;IACpB;EACJ,CAAC,CAAC;EAEF,MAAMuB,WAAW,GAAGA,CAAA,KAAM;IACtB,MAAMC,GAAG,GAAG,IAAIC,IAAI,CAAC,CAAC;IACtB,MAAMC,UAAU,GAAGF,GAAG,CAACG,MAAM,CAAC,CAAC;IAC/B,MAAMC,WAAW,GAAGJ,GAAG,CAACK,QAAQ,CAAC,CAAC,GAAGL,GAAG,CAACM,UAAU,CAAC,CAAC,GAAG,EAAE;IAE1D,IAAIC,KAAK,CAACC,OAAO,CAAC7B,YAAY,CAAC,EAAE;MAC7B,MAAM8B,SAAS,GAAG9B,YAAY,CAAC+B,IAAI,CAC/B,CAAC;QAAEC,GAAG;QAAEC,KAAK;QAAEC;MAAI,CAAC,KAAKF,GAAG,KAAKT,UAAU,IAAIE,WAAW,IAAIQ,KAAK,IAAIR,WAAW,GAAGS,GACzF,CAAC;MAED1C,SAAS,CAACsC,SAAS,CAAC;IACxB,CAAC,MAAM;MACHK,OAAO,CAACC,KAAK,CAAC,uDAAuD,CAAC;MACtE5C,SAAS,CAAC,KAAK,CAAC;IACpB;EACJ,CAAC;EAEDrB,SAAS,CAAC,MAAM;IACZiD,WAAW,CAAC,CAAC;IACb,MAAMiB,QAAQ,GAAGC,WAAW,CAAClB,WAAW,EAAE,KAAK,CAAC;IAChD,OAAO,MAAMmB,aAAa,CAACF,QAAQ,CAAC;EACxC,CAAC,EAAE,EAAE,CAAC;EAENlE,SAAS,CAAC,MAAM;IACZ,MAAMqE,eAAe,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC,IAAI,EAAE;IAC3EtD,YAAY,CAACkD,eAAe,CAAC;EACjC,CAAC,EAAE,EAAE,CAAC;EAENrE,SAAS,CAAC,MAAM;IACZ,MAAM0E,aAAa,GAAGxD,SAAS,CAACyD,MAAM,CAAC,CAACC,KAAK,EAAEC,IAAI,KAAK;MACpD,OAAOD,KAAK,GAAIC,IAAI,CAACC,KAAK,GAAGD,IAAI,CAACE,QAAS;IAC/C,CAAC,EAAE,CAAC,CAAC;IACL9D,aAAa,CAACyD,aAAa,CAAC;EAChC,CAAC,EAAE,CAACxD,SAAS,CAAC,CAAC;EAEf,MAAM8D,QAAQ,GAAG,MAAOC,IAAI,IAAK;IAC7B,IAAI;MACA,MAAMC,WAAW,GAAID,IAAI,CAACxC,MAAM,IAAIwC,IAAI,CAACrC,IAAI,IAAIqC,IAAI,CAACtC,WAAW,IAAIsC,IAAI,CAACvC,OAAO,GAAI;QACjFD,MAAM,EAAEwC,IAAI,CAACxC,MAAM;QACnBG,IAAI,EAAEqC,IAAI,CAACrC,IAAI;QACfD,WAAW,EAAEsC,IAAI,CAACtC,WAAW;QAC7BD,OAAO,EAAEuC,IAAI,CAACvC,OAAO;QACrByC,QAAQ,EAAE;MACd,CAAC,GAAG,IAAI;MAER,MAAMC,YAAY,GAAG;QACjBC,KAAK,EAAE;UACHC,YAAY,EAAEtE,UAAU;UACxBuE,eAAe,EAAEvE,UAAU;UAC3BwE,UAAU,EAAExE,UAAU;UACtByE,MAAM,EAAE,SAAS;UACjB1C,OAAO,EAAEkC,IAAI,CAAClC,OAAO;UACrB2C,cAAc,EAAE,QAAQ;UACxBC,cAAc,EAAE,IAAIxC,IAAI,CAAC,CAAC,CAACyC,WAAW,CAAC,CAAC;UACxCC,YAAY,EAAE,IAAI;UAClBC,aAAa,EAAEpE,cAAc;UAC7BqE,IAAI,EAAEd,IAAI,CAACpC;QACf,CAAC;QACDmD,QAAQ,EAAE;UACNC,UAAU,EAAEhB,IAAI,CAAC5C,SAAS;UAC1B6D,SAAS,EAAEjB,IAAI,CAAC3C,QAAQ;UACxBC,KAAK,EAAE0C,IAAI,CAAC1C,KAAK;UACjBC,KAAK,EAAEyC,IAAI,CAACzC;QAChB,CAAC;QACD2D,WAAW,EAAEjF,SAAS,CAACkF,GAAG,CAAEvB,IAAI,KAAM;UAClCE,QAAQ,EAAEF,IAAI,CAACE,QAAQ;UACvBsB,IAAI,EAAExB,IAAI,CAACwB,IAAI;UACfC,QAAQ,EAAEzB,IAAI,CAACC,KAAK,GAAGD,IAAI,CAACE,QAAQ;UACpCwB,UAAU,EAAE1B,IAAI,CAACC,KAAK;UACtB0B,UAAU,EAAE3B,IAAI,CAAC4B,EAAE;UACnB1D,OAAO,EAAE8B,IAAI,CAAC9B,OAAO,IAAI;QAC7B,CAAC,CAAC,CAAC;QACH2D,oBAAoB,EAAE,CAClB;UACIjB,MAAM,EAAE;QACZ,CAAC;MAET,CAAC;MAED,IAAIP,WAAW,EAAE;QACbE,YAAY,CAACuB,OAAO,GAAGzB,WAAW;MACtC;MAEA,MAAM0B,QAAQ,GAAG,MAAMC,KAAK,CAAC,4EAA4E,EAAE;QACvGhE,MAAM,EAAE,MAAM;QACdiE,OAAO,EAAE;UACL,cAAc,EAAE;QACpB,CAAC;QACDC,IAAI,EAAEzC,IAAI,CAAC0C,SAAS,CAAC5B,YAAY;MACrC,CAAC,CAAC;MAEF,IAAI,CAACwB,QAAQ,CAACK,EAAE,EAAE;QACd,MAAM,IAAIC,KAAK,CAAC,0CAA0C,CAAC;MAC/D;MAEA,MAAMC,YAAY,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;MAE1CC,KAAK,CAAC,qCAAqC,CAAC;MAC5C7C,YAAY,CAAC8C,UAAU,CAAC,WAAW,CAAC;MACpC1F,QAAQ,CAAC,GAAG,CAAC;IACjB,CAAC,CAAC,OAAOqC,KAAK,EAAE;MACZD,OAAO,CAACC,KAAK,CAAC,0CAA0C,EAAEA,KAAK,CAAC;MAChEoD,KAAK,CAAC,0DAA0D,CAAC;IACrE;EACJ,CAAC;EAED,MAAME,cAAc,GAAGA,CAACd,EAAE,EAAEe,KAAK,KAAK;IAClC,MAAMC,gBAAgB,GAAGvG,SAAS,CAACkF,GAAG,CAACvB,IAAI,IAAI;MAC3C,IAAIA,IAAI,CAAC4B,EAAE,KAAKA,EAAE,EAAE;QAChB,OAAO;UAAE,GAAG5B,IAAI;UAAEE,QAAQ,EAAEF,IAAI,CAACE,QAAQ,GAAGyC;QAAM,CAAC;MACvD;MACA,OAAO3C,IAAI;IACf,CAAC,CAAC,CAAC6C,MAAM,CAAC7C,IAAI,IAAIA,IAAI,CAACE,QAAQ,GAAG,CAAC,CAAC;IAEpC5D,YAAY,CAACsG,gBAAgB,CAAC;IAC9BjD,YAAY,CAACmD,OAAO,CAAC,WAAW,EAAErD,IAAI,CAAC0C,SAAS,CAACS,gBAAgB,CAAC,CAAC;EACvE,CAAC;EAED,MAAMG,kBAAkB,GAAIC,SAAS,IAAK;IAAA,IAAAC,eAAA;IACtC,MAAMC,eAAe,GAAG,EAAAD,eAAA,GAAA5G,SAAS,CAAC8G,IAAI,CAACnD,IAAI,IAAIA,IAAI,CAAC4B,EAAE,KAAKoB,SAAS,CAAC,cAAAC,eAAA,uBAA7CA,eAAA,CAA+C/E,OAAO,KAAI,EAAE;IACpFtB,cAAc,CAACsG,eAAe,CAAC;IAC/BxG,mBAAmB,CAACsG,SAAS,CAAC;IAC9BI,QAAQ,CAAClB,IAAI,CAACmB,KAAK,CAACC,QAAQ,GAAG,QAAQ;EAC3C,CAAC;EAED,MAAMC,mBAAmB,GAAGA,CAAA,KAAM;IAC9B,MAAMX,gBAAgB,GAAGvG,SAAS,CAACkF,GAAG,CAACvB,IAAI,IAAI;MAC3C,IAAIA,IAAI,CAAC4B,EAAE,KAAKnF,gBAAgB,EAAE;QAC9B,OAAO;UAAE,GAAGuD,IAAI;UAAE9B,OAAO,EAAEvB,WAAW,IAAI;QAAG,CAAC;MAClD;MACA,OAAOqD,IAAI;IACf,CAAC,CAAC;IAEF1D,YAAY,CAACsG,gBAAgB,CAAC;IAC9BjD,YAAY,CAACmD,OAAO,CAAC,WAAW,EAAErD,IAAI,CAAC0C,SAAS,CAACS,gBAAgB,CAAC,CAAC;IACnElG,mBAAmB,CAAC,IAAI,CAAC;IACzBE,cAAc,CAAC,EAAE,CAAC;EACtB,CAAC;EAED,MAAM4G,mBAAmB,GAAIC,CAAC,IAAK;IAC/B7G,cAAc,CAAC6G,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC;EAClC,CAAC;EAED,MAAMC,iBAAiB,GAAGA,CAAA,KAAM;IAC5BlH,mBAAmB,CAAC,IAAI,CAAC;IACzBE,cAAc,CAAC,EAAE,CAAC;IAClBwG,QAAQ,CAAClB,IAAI,CAACmB,KAAK,CAACC,QAAQ,GAAG,EAAE;EACrC,CAAC;EAEDnI,SAAS,CAAC,MAAM;IACZ,MAAM0I,kBAAkB,GAAIC,KAAK,IAAK;MAClC,IAAIrH,gBAAgB,IAAI,CAACqH,KAAK,CAACJ,MAAM,CAACK,OAAO,CAAC,gBAAgB,CAAC,EAAE;QAC7DH,iBAAiB,CAAC,CAAC;MACvB;IACJ,CAAC;IAEDR,QAAQ,CAACY,gBAAgB,CAAC,WAAW,EAAEH,kBAAkB,CAAC;IAC1D,OAAO,MAAMT,QAAQ,CAACa,mBAAmB,CAAC,WAAW,EAAEJ,kBAAkB,CAAC;EAC9E,CAAC,EAAE,CAACpH,gBAAgB,CAAC,CAAC;EAGtB,oBACIhB,OAAA;IAAKyI,SAAS,EAAC,uBAAuB;IAAAC,QAAA,gBAClC1I,OAAA;MAAKyI,SAAS,EAAC,sBAAsB;MAAAC,QAAA,gBACjC1I,OAAA;QAAA0I,QAAA,EAAI;MAAM;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EACdlI,SAAS,CAACmI,MAAM,GAAG,CAAC,GACjBnI,SAAS,CAACkF,GAAG,CAAEvB,IAAI,iBACfvE,OAAA;QAAmByI,SAAS,EAAC,qBAAqB;QAAAC,QAAA,gBAC9C1I,OAAA;UAAMyI,SAAS,EAAC,aAAa;UAAAC,QAAA,gBACzB1I,OAAA;YAAA0I,QAAA,gBAAG1I,OAAA;cAAMyI,SAAS,EAAC,UAAU;cAAAC,QAAA,GAAEnE,IAAI,CAACE,QAAQ,EAAC,IAAE;YAAA;cAAAkE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,OAAG,EAACvE,IAAI,CAACwB,IAAI;UAAA;YAAA4C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACxE9I,OAAA;YAAKyI,SAAS,EAAC,oBAAoB;YAAAC,QAAA,gBAC/B1I,OAAA;cACIyI,SAAS,EAAC,2BAA2B;cACrCO,OAAO,EAAEA,CAAA,KAAM1B,kBAAkB,CAAC/C,IAAI,CAAC4B,EAAE,CAAE;cAAAuC,QAAA,EAC9C;YAAI;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACZ9I,OAAA;cAAQgJ,OAAO,EAAEA,CAAA,KAAM/B,cAAc,CAAC1C,IAAI,CAAC4B,EAAE,EAAE,CAAC,CAAE;cAAAuC,QAAA,EAAC;YAAC;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAC7D9I,OAAA;cAAQgJ,OAAO,EAAEA,CAAA,KAAM/B,cAAc,CAAC1C,IAAI,CAAC4B,EAAE,EAAE,CAAC,CAAC,CAAE;cAAAuC,QAAA,EAAC;YAAC;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7D,CAAC,EACL9H,gBAAgB,KAAKuD,IAAI,CAAC4B,EAAE,iBACzBnG,OAAA;YAAKyI,SAAS,EAAC,eAAe;YAAAC,QAAA,gBAC1B1I,OAAA;cAAA0I,QAAA,EAAI;YAAsC;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC/C9I,OAAA;cACIiJ,WAAW,EAAC,wBAAwB;cACpCf,KAAK,EAAEhH,WAAY;cACnBgI,QAAQ,EAAEnB,mBAAoB;cAC9BoB,IAAI,EAAE,CAAE;cACRC,MAAM,EAAC;YAAU;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACpB,CAAC,eACF9I,OAAA;cAAQyI,SAAS,EAAC,gBAAgB;cAACO,OAAO,EAAElB,mBAAoB;cAAAY,QAAA,EAAC;YAAO;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChF,CACR;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC,EACTvE,IAAI,CAAC9B,OAAO,iBAAIzC,OAAA;UAAA0I,QAAA,GAAG,GAAC,EAACnE,IAAI,CAAC9B,OAAO;QAAA;UAAAkG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA,GAzB7BvE,IAAI,CAAC4B,EAAE;QAAAwC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OA0BZ,CACR,CAAC,gBAEF9I,OAAA;QAAKyI,SAAS,EAAC,cAAc;QAAAC,QAAA,gBACzB1I,OAAA;UAAMyI,SAAS,EAAC,2BAA2B;UAAAC,QAAA,EAAC;QAA0B;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAC7E9I,OAAA;UAAA0I,QAAA,EAAG;QAAkC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxC,CACR,EACAlI,SAAS,CAACmI,MAAM,GAAG,CAAC,iBACjB/I,OAAA;QAAGyI,SAAS,EAAC,aAAa;QAAAC,QAAA,gBAAC1I,OAAA;UAAMyI,SAAS,EAAC,UAAU;UAAAC,QAAA,EAAC;QAAY;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,KAAC,EAACpI,UAAU,CAAC2I,OAAO,CAAC,CAAC,CAAC,EAAC,SAAE;MAAA;QAAAV,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CACzG;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC,eAEN9I,OAAA;MAAKyI,SAAS,EAAC,qBAAqB;MAAAC,QAAA,eAChC1I,OAAA;QAAM0E,QAAQ,EAAEjD,YAAY,CAACiD,QAAQ,CAAE;QAAAgE,QAAA,gBACnC1I,OAAA;UAAOyF,IAAI,EAAC,MAAM;UAACwD,WAAW,EAAC,WAAQ;UAAA,GAAKzH,QAAQ,CAAC,WAAW,EAAE;YAAE8H,QAAQ,EAAE;UAAgB,CAAC;QAAC;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACpG9I,OAAA;UAAGyI,SAAS,EAAC,eAAe;UAAAC,QAAA,GAAArI,iBAAA,GAAEwB,MAAM,CAACE,SAAS,cAAA1B,iBAAA,uBAAhBA,iBAAA,CAAkBkJ;QAAO;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAE5D9I,OAAA;UAAOyF,IAAI,EAAC,MAAM;UAACwD,WAAW,EAAC,KAAK;UAAA,GAAKzH,QAAQ,CAAC,UAAU,EAAE;YAAE8H,QAAQ,EAAE;UAAa,CAAC;QAAC;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eAC7F9I,OAAA;UAAGyI,SAAS,EAAC,eAAe;UAAAC,QAAA,GAAApI,gBAAA,GAAEuB,MAAM,CAACG,QAAQ,cAAA1B,gBAAA,uBAAfA,gBAAA,CAAiBiJ;QAAO;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAE3D9I,OAAA;UAAOyF,IAAI,EAAC,OAAO;UAACwD,WAAW,EAAC,OAAO;UAAA,GAAKzH,QAAQ,CAAC,OAAO,EAAE;YAAE8H,QAAQ,EAAE;UAAe,CAAC;QAAC;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eAC/F9I,OAAA;UAAGyI,SAAS,EAAC,eAAe;UAAAC,QAAA,GAAAnI,aAAA,GAAEsB,MAAM,CAACI,KAAK,cAAA1B,aAAA,uBAAZA,aAAA,CAAcgJ;QAAO;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAExD9I,OAAA;UAAOyF,IAAI,EAAC,KAAK;UAACwD,WAAW,EAAC,iBAAW;UAAA,GAAKzH,QAAQ,CAAC,OAAO,EAAE;YAAE8H,QAAQ,EAAE;UAAmB,CAAC;QAAC;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACrG9I,OAAA;UAAGyI,SAAS,EAAC,eAAe;UAAAC,QAAA,GAAAlI,aAAA,GAAEqB,MAAM,CAACK,KAAK,cAAA1B,aAAA,uBAAZA,aAAA,CAAc+I;QAAO;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EAEvDpH,KAAK,CAAC,QAAQ,CAAC,KAAK,UAAU,iBAC3B1B,OAAA,CAAAE,SAAA;UAAAwI,QAAA,gBACI1I,OAAA;YAAOyF,IAAI,EAAC,MAAM;YAACwD,WAAW,EAAC,aAAa;YAAA,GAAKzH,QAAQ,CAAC,aAAa;UAAC;YAAAmH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eAC5E9I,OAAA;YAAOyF,IAAI,EAAC,MAAM;YAACwD,WAAW,EAAC,MAAM;YAAA,GAAKzH,QAAQ,CAAC,SAAS;UAAC;YAAAmH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACjE9I,OAAA;YAAOyF,IAAI,EAAC,MAAM;YAACwD,WAAW,EAAC,OAAO;YAAA,GAAKzH,QAAQ,CAAC,MAAM;UAAC;YAAAmH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eAC/D9I,OAAA;YAAOyF,IAAI,EAAC,MAAM;YAACwD,WAAW,EAAC,SAAS;YAAA,GAAKzH,QAAQ,CAAC,QAAQ;UAAC;YAAAmH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA,eACrE,CACL,eAED9I,OAAA;UAAA,GAAYwB,QAAQ,CAAC,QAAQ,CAAC;UAAAkH,QAAA,gBAC1B1I,OAAA;YAAQkI,KAAK,EAAC,QAAQ;YAAAQ,QAAA,EAAC;UAAU;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAC1C9I,OAAA;YAAQkI,KAAK,EAAC,UAAU;YAAAQ,QAAA,EAAC;UAAS;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvC,CAAC,eAET9I,OAAA;UAAQyI,SAAS,EAAC,gBAAgB;UAAA,GAAKjH,QAAQ,CAAC,SAAS,EAAE;YAAE8H,QAAQ,EAAE;UAAmC,CAAC,CAAC;UAAAZ,QAAA,gBACxG1I,OAAA;YAAQkI,KAAK,EAAC,EAAE;YAAAQ,QAAA,EAAC;UAAgB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAC1C9I,OAAA;YAAQkI,KAAK,EAAC,MAAM;YAAAQ,QAAA,EAAC;UAAO;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACrC9I,OAAA;YAAQkI,KAAK,EAAC,IAAI;YAAAQ,QAAA,EAAC;UAAc;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtC,CAAC,eACT9I,OAAA;UAAGyI,SAAS,EAAC,eAAe;UAAAC,QAAA,GAAAjI,eAAA,GAAEoB,MAAM,CAACW,OAAO,cAAA/B,eAAA,uBAAdA,eAAA,CAAgB8I;QAAO;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAE1D9I,OAAA;UAAUiJ,WAAW,EAAC,aAAa;UAAA,GAAKzH,QAAQ,CAAC,SAAS;QAAC;UAAAmH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAY,CAAC,eACxE9I,OAAA;UAAO4H,KAAK,EAAE;YAAC4B,SAAS,EAAC;UAAM,CAAE;UAAE/D,IAAI,EAAC,QAAQ;UAACyC,KAAK,EAAE;QAAY;UAAAS,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd;AAAC1I,EAAA,CAlRQD,eAAe;EAAA,QAOHP,WAAW,EAG+CC,OAAO;AAAA;AAAA4J,EAAA,GAV7EtJ,eAAe;AAoRxB,eAAeA,eAAe;AAAC,IAAAsJ,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}